[0m[1mvar.subnet_configs[0m
  List of subnet configurations

  [1mEnter a value:[0m [0m
[0m[1mmodule.enable_apis.google_project_service.container_api: Refreshing state... [id=dspl-24-poc/container.googleapis.com][0m
[0m[1mmodule.service-accounts.google_service_account.gke_sa: Refreshing state... [id=projects/dspl-24-poc/serviceAccounts/gke-node-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.enable_apis.google_project_service.compute_api: Refreshing state... [id=dspl-24-poc/compute.googleapis.com][0m
[0m[1mmodule.service-accounts.google_service_account.backend_sa: Refreshing state... [id=projects/dspl-24-poc/serviceAccounts/backend-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.vpc.google_compute_global_address.private_ip_address: Refreshing state... [id=projects/dspl-24-poc/global/addresses/my-instance-private-ip][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["container.googleapis.com"]: Refreshing state... [id=dspl-24-poc/container.googleapis.com][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["cloudresourcemanager.googleapis.com"]: Refreshing state... [id=dspl-24-poc/cloudresourcemanager.googleapis.com][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["servicenetworking.googleapis.com"]: Refreshing state... [id=dspl-24-poc/servicenetworking.googleapis.com][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["sqladmin.googleapis.com"]: Refreshing state... [id=dspl-24-poc/sqladmin.googleapis.com][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["compute.googleapis.com"]: Refreshing state... [id=dspl-24-poc/compute.googleapis.com][0m
[0m[1mmodule.vpc.google_compute_network.vpc["my-vpc"]: Refreshing state... [id=projects/dspl-24-poc/global/networks/my-vpc][0m
[0m[1mmodule.enable_apis.google_project_service.enabled_apis["iam.googleapis.com"]: Refreshing state... [id=dspl-24-poc/iam.googleapis.com][0m
[0m[1mmodule.vpc.google_compute_global_address.private_ip_alloc: Refreshing state... [id=projects/dspl-24-poc/global/addresses/my-vpc-private-ip-alloc][0m
[0m[1mmodule.vpc.google_compute_subnetwork.subnets["my-vpc-gke-subnet"]: Refreshing state... [id=projects/dspl-24-poc/regions/us-central1/subnetworks/gke-subnet][0m
[0m[1mmodule.vpc.google_compute_subnetwork.subnets["my-vpc-sql-subnet"]: Refreshing state... [id=projects/dspl-24-poc/regions/us-central1/subnetworks/sql-subnet][0m
[0m[1mmodule.vpc.google_service_networking_connection.private_vpc_connection: Refreshing state... [id=projects%2Fdspl-24-poc%2Fglobal%2Fnetworks%2Fmy-vpc:servicenetworking.googleapis.com][0m
[0m[1mmodule.vpc.google_compute_firewall.rules["my-vpc-allow-internal"]: Refreshing state... [id=projects/dspl-24-poc/global/firewalls/allow-internal][0m
[0m[1mmodule.vpc.google_compute_router.router["my-vpc"]: Refreshing state... [id=projects/dspl-24-poc/regions/us-central1/routers/my-vpc-router][0m
[0m[1mmodule.service-accounts.google_service_account_iam_binding.workload_identity_binding: Refreshing state... [id=projects/dspl-24-poc/serviceAccounts/backend-sa@dspl-24-poc.iam.gserviceaccount.com/roles/iam.workloadIdentityUser][0m
[0m[1mmodule.service-accounts.google_project_iam_member.backend_sa_cloudsql: Refreshing state... [id=dspl-24-poc/roles/cloudsql.client/serviceAccount:backend-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.service-accounts.google_project_iam_member.gke_sa_roles["roles/monitoring.metricWriter"]: Refreshing state... [id=dspl-24-poc/roles/monitoring.metricWriter/serviceAccount:gke-node-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.service-accounts.google_project_iam_member.gke_sa_roles["roles/monitoring.viewer"]: Refreshing state... [id=dspl-24-poc/roles/monitoring.viewer/serviceAccount:gke-node-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.service-accounts.google_project_iam_member.gke_sa_roles["roles/logging.logWriter"]: Refreshing state... [id=dspl-24-poc/roles/logging.logWriter/serviceAccount:gke-node-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.vpc.google_compute_router_nat.nat["my-vpc"]: Refreshing state... [id=dspl-24-poc/us-central1/my-vpc-router/my-vpc-nat][0m
[0m[1mmodule.gke.google_service_account.gke_sa: Refreshing state... [id=projects/dspl-24-poc/serviceAccounts/dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.cloud_sql.random_password.user_passwords["0"]: Refreshing state... [id=none][0m
[0m[1mmodule.cloud_sql.google_sql_database_instance.instances["my-instance"]: Refreshing state... [id=my-instance][0m
[0m[1mmodule.gke.google_container_cluster.primary: Refreshing state... [id=projects/dspl-24-poc/locations/us-central1/clusters/dev-cluster][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/storage.objectViewer"]: Refreshing state... [id=dspl-24-poc/roles/storage.objectViewer/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/container.nodeServiceAccount"]: Refreshing state... [id=dspl-24-poc/roles/container.nodeServiceAccount/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/compute.networkUser"]: Refreshing state... [id=dspl-24-poc/roles/compute.networkUser/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/monitoring.viewer"]: Refreshing state... [id=dspl-24-poc/roles/monitoring.viewer/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/logging.logWriter"]: Refreshing state... [id=dspl-24-poc/roles/logging.logWriter/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.gke.google_project_iam_member.gke_sa_roles["roles/monitoring.metricWriter"]: Refreshing state... [id=dspl-24-poc/roles/monitoring.metricWriter/serviceAccount:dev-cluster-sa@dspl-24-poc.iam.gserviceaccount.com][0m
[0m[1mmodule.cloud_sql.google_sql_database.databases["0"]: Refreshing state... [id=projects/dspl-24-poc/instances/my-instance/databases/my_database][0m
[0m[1mmodule.cloud_sql.google_sql_user.users["0"]: Refreshing state... [id=admin//my-instance][0m
[0m[1mmodule.gke.google_container_node_pool.pools["default-pool"]: Refreshing state... [id=projects/dspl-24-poc/locations/us-central1/clusters/dev-cluster/nodePools/default-pool][0m

Terraform used the selected providers to generate the following execution
plan. Resource actions are indicated with the following symbols:
  [32m+[0m create[0m
  [33m~[0m update in-place[0m

Terraform will perform the following actions:

[1m  # module.gke.google_container_node_pool.pools["default-pool"][0m will be updated in-place
[0m  [33m~[0m[0m resource "google_container_node_pool" "pools" {
        id                          = "projects/dspl-24-poc/locations/us-central1/clusters/dev-cluster/nodePools/default-pool"
        name                        = "default-pool"
        [90m# (11 unchanged attributes hidden)[0m[0m

      [33m~[0m[0m node_config {
            tags              = []
            [90m# (18 unchanged attributes hidden)[0m[0m

          [31m-[0m[0m kubelet_config {
              [31m-[0m[0m cpu_cfs_quota        = false [90m-> null[0m[0m
              [31m-[0m[0m pod_pids_limit       = 0 [90m-> null[0m[0m
                [90m# (2 unchanged attributes hidden)[0m[0m
            }

            [90m# (2 unchanged blocks hidden)[0m[0m
        }

        [90m# (4 unchanged blocks hidden)[0m[0m
    }

[1m  # module.gke.google_project_iam_member.backend_sa_cloudsql[0m will be created
[0m  [32m+[0m[0m resource "google_project_iam_member" "backend_sa_cloudsql" {
      [32m+[0m[0m etag    = (known after apply)
      [32m+[0m[0m id      = (known after apply)
      [32m+[0m[0m member  = (known after apply)
      [32m+[0m[0m project = "dspl-24-poc"
      [32m+[0m[0m role    = "roles/cloudsql.client"
    }

[1m  # module.gke.google_service_account.backend_sa[0m will be created
[0m  [32m+[0m[0m resource "google_service_account" "backend_sa" {
      [32m+[0m[0m account_id   = "backend-sa"
      [32m+[0m[0m disabled     = false
      [32m+[0m[0m display_name = "Backend Service Account for Cloud SQL"
      [32m+[0m[0m email        = (known after apply)
      [32m+[0m[0m id           = (known after apply)
      [32m+[0m[0m member       = (known after apply)
      [32m+[0m[0m name         = (known after apply)
      [32m+[0m[0m project      = "dspl-24-poc"
      [32m+[0m[0m unique_id    = (known after apply)
    }

[1m  # module.gke.google_service_account_iam_binding.workload_identity_binding[0m will be created
[0m  [32m+[0m[0m resource "google_service_account_iam_binding" "workload_identity_binding" {
      [32m+[0m[0m etag               = (known after apply)
      [32m+[0m[0m id                 = (known after apply)
      [32m+[0m[0m members            = [
          [32m+[0m[0m "serviceAccount:dspl-24-poc.svc.id.goog[default/backend-sa]",
        ]
      [32m+[0m[0m role               = "roles/iam.workloadIdentityUser"
      [32m+[0m[0m service_account_id = (known after apply)
    }

[1mPlan:[0m 3 to add, 1 to change, 0 to destroy.
[0m[0m[1m
Do you want to perform these actions?[0m
  Terraform will perform the actions described above.
  Only 'yes' will be accepted to approve.

  [1mEnter a value:[0m [0m
[0m[1mmodule.gke.google_service_account.backend_sa: Creating...[0m[0m
[0m[1mmodule.gke.google_container_node_pool.pools["default-pool"]: Modifying... [id=projects/dspl-24-poc/locations/us-central1/clusters/dev-cluster/nodePools/default-pool][0m[0m
[31mâ•·[0m[0m
[31mâ”‚[0m [0m[1m[31mError: [0m[0m[1mError creating service account: googleapi: Error 409: Service account backend-sa already exists within project projects/dspl-24-poc.
[31mâ”‚[0m [0mDetails:
[31mâ”‚[0m [0m[
[31mâ”‚[0m [0m  {
[31mâ”‚[0m [0m    "@type": "type.googleapis.com/google.rpc.ResourceInfo",
[31mâ”‚[0m [0m    "resourceName": "projects/dspl-24-poc/serviceAccounts/backend-sa@dspl-24-poc.iam.gserviceaccount.com"
[31mâ”‚[0m [0m  }
[31mâ”‚[0m [0m]
[31mâ”‚[0m [0m, alreadyExists[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0m[0m  with module.gke.google_service_account.backend_sa,
[31mâ”‚[0m [0m  on ../../modules/gke/main.tf line 9, in resource "google_service_account" "backend_sa":
[31mâ”‚[0m [0m   9: resource "google_service_account" "backend_sa" [4m{[0m[0m
[31mâ”‚[0m [0m
[31mâ•µ[0m[0m
[31mâ•·[0m[0m
[31mâ”‚[0m [0m[1m[31mError: [0m[0m[1mgoogleapi: Error 400: At least one of ['node_version', 'image_type', 'updated_node_pool', 'locations', 'workload_metadata_config', 'upgrade_settings', 'kubelet_config', 'linux_node_config', 'tags', 'taints', 'labels', 'node_network_config', 'gcfs_config', 'gvnic', 'confidential_nodes', 'logging_config', 'fast_socket', 'resource_labels', 'accelerators', 'windows_node_config', 'machine_type', 'disk_type', 'disk_size_gb', 'storage_pools', 'containerd_config', 'resource_manager_tags', 'performance_monitoring_unit', 'queued_provisioning', 'max_run_duration'] must be specified.
[31mâ”‚[0m [0mDetails:
[31mâ”‚[0m [0m[
[31mâ”‚[0m [0m  {
[31mâ”‚[0m [0m    "@type": "type.googleapis.com/google.rpc.RequestInfo",
[31mâ”‚[0m [0m    "requestId": "0x112cd121982d6b55"
[31mâ”‚[0m [0m  }
[31mâ”‚[0m [0m]
[31mâ”‚[0m [0m, badRequest[0m
[31mâ”‚[0m [0m
[31mâ”‚[0m [0m[0m  with module.gke.google_container_node_pool.pools["default-pool"],
[31mâ”‚[0m [0m  on ../../modules/gke/main.tf line 93, in resource "google_container_node_pool" "pools":
[31mâ”‚[0m [0m  93: resource "google_container_node_pool" "pools" [4m{[0m[0m
[31mâ”‚[0m [0m
[31mâ•µ[0m[0m
